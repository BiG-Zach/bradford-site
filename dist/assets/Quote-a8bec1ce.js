import{r as x,j as e}from"./index-b7dbf44b.js";import{S as y}from"./SEO-80dc78aa.js";import{R as u}from"./Reveal-80405da2.js";function k(t){return/^\d{5}$/.test(t.trim())}function S(t){return/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(t.trim())}function f(t){return t.replace(/\D/g,"").slice(0,15)}function w(t){const s=f(t);return/^\d{10}$/.test(s)}function g(t){return!(t==null||typeof t=="string"&&t.trim()==="")}function C(t){const s={};return k(t.zip)||(s.zip="Enter a valid 5-digit ZIP code"),t.state||(s.state="Select a state"),t.coverageType||(s.coverageType="Select a coverage type"),s}function E(t){const s={};return(!Array.isArray(t.ages)||t.ages.length===0)&&(s.ages="Provide at least one age"),t.ages.some(a=>isNaN(a)||a<=0)&&(s.ages="Ages must be positive numbers"),t.dependents<0&&(s.dependents="Dependents cannot be negative"),s}function q(t){const s={};return g(t.firstName)||(s.firstName="First name is required"),g(t.lastName)||(s.lastName="Last name is required"),S(t.email)||(s.email="Enter a valid email"),w(t.phone)||(s.phone="Enter a valid 10-digit phone"),t.consent||(s.consent="Consent is required"),s}const j="big-quote-form-v1";function O(){try{const t=sessionStorage.getItem(j);if(t)return JSON.parse(t)}catch{}return{basics:{zip:"",state:"FL",coverageType:"Health"},household:{ages:[],tobacco:!1,dependents:0},contact:{firstName:"",lastName:"",email:"",phone:"",consent:!1}}}function P(t){try{sessionStorage.setItem(j,JSON.stringify(t))}catch{}}function m({msg:t}){return t?e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}):null}function z(){const[t,s]=x.useState(0),[a,o]=x.useState(()=>O()),[i,l]=x.useState({});x.useEffect(()=>{P(a)},[a]);const p=x.useMemo(()=>[{id:0,label:"Basics"},{id:1,label:"Household"},{id:2,label:"Contact"},{id:3,label:"Review"}],[]);function b(){if(t===0){const n=C(a.basics);if(Object.keys(n).length){l(Object.fromEntries(Object.entries(n)));return}}if(t===1){const n=E(a.household);if(Object.keys(n).length){l(Object.fromEntries(Object.entries(n)));return}}if(t===2){const n=q(a.contact);if(Object.keys(n).length){l(Object.fromEntries(Object.entries(n)));return}}l({}),s(n=>Math.min(3,n+1))}function h(){s(n=>Math.max(0,n-1))}async function r(){const n={...a,contact:{...a.contact,phone:f(a.contact.phone),consentAt:new Date().toISOString()},meta:{source:"web",path:location.pathname}};console.log("Submitting quote payload",n),await new Promise(c=>setTimeout(c,600)),location.assign("/thank-you")}return e.jsxs("main",{id:"content",className:"has-sticky-cta",children:[e.jsx(y,{title:"Get a Quote",path:"/quote",description:"Start your personalized quote. Answer a few quick questions and we’ll match options from top carriers."}),e.jsx("section",{className:"section",children:e.jsxs("div",{className:"container-default",children:[e.jsx(u,{children:e.jsx("h1",{className:"h1 mb-2",children:"Get a Free Quote"})}),e.jsx(u,{delay:.08,children:e.jsx("p",{className:"lead mb-8",children:"Complete the steps below. We’ll review your details and present clear options that fit your needs."})}),e.jsx("div",{className:"mb-8",children:e.jsx("ol",{className:"grid grid-cols-4 gap-2 text-sm",children:p.map((n,c)=>{const v=t===c,N=t>c;return e.jsx("li",{className:"rounded-lg border px-3 py-2 text-center "+(v?"border-sky-500 bg-sky-50 text-sky-700":N?"border-teal-600 bg-teal-50 text-teal-700":"border-slate-200 text-slate-600"),children:n.label},n.id)})})}),t===0&&e.jsx(u,{children:e.jsx(T,{data:a.basics,onChange:n=>o(c=>({...c,basics:n})),errors:i,onNext:b})}),t===1&&e.jsx(u,{children:e.jsx(A,{data:a.household,onChange:n=>o(c=>({...c,household:n})),errors:i,onPrev:h,onNext:b})}),t===2&&e.jsx(u,{children:e.jsx(I,{data:a.contact,onChange:n=>o(c=>({...c,contact:n})),errors:i,onPrev:h,onNext:b})}),t===3&&e.jsx(u,{children:e.jsx(M,{data:a,onPrev:h,onSubmit:r})})]})})]})}function T({data:t,onChange:s,errors:a,onNext:o}){return e.jsxs("form",{className:"grid gap-6 max-w-2xl",onSubmit:i=>{i.preventDefault(),o()},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"ZIP Code"}),e.jsx("input",{value:t.zip,onChange:i=>s({...t,zip:i.target.value}),className:"mt-1 block w-full rounded-md border-slate-300 focus:border-sky-500 focus:ring-sky-500",placeholder:"e.g., 33101",inputMode:"numeric",maxLength:5,required:!0}),e.jsx(m,{msg:a.zip})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"State"}),e.jsxs("select",{value:t.state,onChange:i=>s({...t,state:i.target.value}),className:"mt-1 block w-full rounded-md border-slate-300 focus:border-sky-500 focus:ring-sky-500",required:!0,children:[e.jsx("option",{value:"FL",children:"Florida"}),e.jsx("option",{value:"MI",children:"Michigan"}),e.jsx("option",{value:"NC",children:"North Carolina"}),e.jsx("option",{value:"OTHER",children:"Other"})]}),e.jsx(m,{msg:a.state})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Coverage Type"}),e.jsx("div",{className:"mt-2 grid grid-cols-3 gap-2",children:["Health","Life","Both"].map(i=>e.jsx("button",{type:"button",onClick:()=>s({...t,coverageType:i}),className:"rounded-lg border px-3 py-2 text-sm "+(t.coverageType===i?"border-sky-600 bg-sky-50 text-sky-700":"border-slate-200 text-slate-700 hover:bg-slate-50"),children:i},i))}),e.jsx(m,{msg:a.coverageType})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Continue"}),e.jsx("a",{href:"/",className:"btn btn-ghost",children:"Cancel"})]})]})}function A({data:t,onChange:s,errors:a,onPrev:o,onNext:i}){const[l,p]=x.useState("");function b(){const r=Number(l);!isNaN(r)&&r>0&&(s({...t,ages:[...t.ages,r]}),p(""))}function h(r){const n=[...t.ages];n.splice(r,1),s({...t,ages:n})}return e.jsxs("form",{className:"grid gap-6 max-w-2xl",onSubmit:r=>{r.preventDefault(),i()},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Ages"}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("input",{value:l,onChange:r=>p(r.target.value),className:"block flex-1 rounded-md border-slate-300 focus:border-sky-500 focus:ring-sky-500",placeholder:"e.g., 38",inputMode:"numeric"}),e.jsx("button",{type:"button",onClick:b,className:"btn btn-accent",children:"Add"})]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:t.ages.map((r,n)=>e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-sm",children:[r,e.jsx("button",{type:"button",className:"text-slate-500 hover:text-red-600",onClick:()=>h(n),"aria-label":"Remove age",children:"×"})]},n))}),e.jsx(m,{msg:a.ages})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"tobacco",type:"checkbox",checked:t.tobacco,onChange:r=>s({...t,tobacco:r.target.checked}),className:"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),e.jsx("label",{htmlFor:"tobacco",className:"text-sm text-slate-700",children:"Tobacco user"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Dependents"}),e.jsx("input",{value:t.dependents,onChange:r=>s({...t,dependents:Math.max(0,Number(r.target.value)||0)}),className:"mt-1 block w-full rounded-md border-slate-300 focus:border-sky-500 focus:ring-sky-500",inputMode:"numeric"}),e.jsx(m,{msg:a.dependents})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:o,className:"btn btn-ghost",children:"Back"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Continue"})]})]})}function I({data:t,onChange:s,errors:a,onPrev:o,onNext:i}){return e.jsxs("form",{className:"grid gap-6 max-w-2xl",onSubmit:l=>{l.preventDefault(),i()},children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"First name"}),e.jsx("input",{value:t.firstName,onChange:l=>s({...t,firstName:l.target.value}),className:"mt-1 block w-full rounded-md border-slate-300 focus:border-sky-500 focus:ring-sky-500",required:!0}),e.jsx(m,{msg:a.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Last name"}),e.jsx("input",{value:t.lastName,onChange:l=>s({...t,lastName:l.target.value}),className:"mt-1 block w-full rounded-md border-slate-300 focus:border-sky-500 focus:ring-sky-500",required:!0}),e.jsx(m,{msg:a.lastName})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),e.jsx("input",{type:"email",value:t.email,onChange:l=>s({...t,email:l.target.value}),className:"mt-1 block w-full rounded-md border-slate-300 focus:border-sky-500 focus:ring-sky-500",placeholder:"you@example.com",required:!0}),e.jsx(m,{msg:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Phone"}),e.jsx("input",{value:t.phone,onChange:l=>s({...t,phone:l.target.value}),className:"mt-1 block w-full rounded-md border-slate-300 focus:border-sky-500 focus:ring-sky-500",inputMode:"tel",placeholder:"(555) 555-5555",required:!0}),e.jsx(m,{msg:a.phone})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{id:"consent",type:"checkbox",checked:t.consent,onChange:l=>s({...t,consent:l.target.checked}),className:"mt-1 h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),e.jsx("label",{htmlFor:"consent",className:"text-sm text-slate-700",children:"By submitting, you agree to receive calls, texts, or emails from Bradford Informed Guidance about insurance options. Consent is not a condition of purchase. Message and data rates may apply."})]}),e.jsx(m,{msg:a.consent}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:o,className:"btn btn-ghost",children:"Back"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Continue"})]})]})}function d({label:t,value:s}){return e.jsxs("div",{className:"flex items-start justify-between gap-4 py-2",children:[e.jsx("div",{className:"text-sm text-slate-500",children:t}),e.jsx("div",{className:"text-sm font-medium text-slate-800",children:s})]})}function M({data:t,onPrev:s,onSubmit:a}){const{basics:o,household:i,contact:l}=t;return e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 p-6",children:[e.jsx("h2",{className:"font-semibold text-lg mb-3",children:"Review Details"}),e.jsxs("div",{className:"divide-y divide-slate-200",children:[e.jsx(d,{label:"ZIP",value:o.zip}),e.jsx(d,{label:"State",value:o.state}),e.jsx(d,{label:"Coverage",value:o.coverageType}),e.jsx(d,{label:"Ages",value:i.ages.join(", ")||"—"}),e.jsx(d,{label:"Tobacco",value:i.tobacco?"Yes":"No"}),e.jsx(d,{label:"Dependents",value:String(i.dependents)}),e.jsx(d,{label:"First Name",value:l.firstName}),e.jsx(d,{label:"Last Name",value:l.lastName}),e.jsx(d,{label:"Email",value:l.email}),e.jsx(d,{label:"Phone",value:l.phone}),e.jsx(d,{label:"Consent",value:l.consent?"Given":"Not given"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:s,className:"btn btn-ghost",children:"Back"}),e.jsx("button",{type:"button",onClick:a,className:"btn btn-primary",children:"Submit"})]})]})}export{z as default};
